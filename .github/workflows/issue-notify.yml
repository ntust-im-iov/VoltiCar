# æª”æ¡ˆè·¯å¾‘: .github/issue-notify.yml

name: 'Issue Assigned Notifier'

# è§¸ç™¼æ¢ä»¶ï¼šç•¶ Issue è¢«ã€ŒæŒ‡æ´¾ã€(assigned) æ™‚
on:
  issues:
    types: [assigned]

jobs:
  notify-on-issue-assign:
    name: 'Send Discord Notification'
    runs-on: ubuntu-latest
    steps:
      - name: 'Send Discord Notification'
        # ä½¿ç”¨ç¤¾ç¾¤ä¸Šæˆç†Ÿçš„ action ä¾†ç™¼é€ discord é€šçŸ¥
        uses: tsickert/discord-webhook@v5.3.0
        with:
          # è®€å–æ‚¨ GitHub repository ä¸­å„²å­˜çš„ secret
          webhook: ${{ DISCORD_ISSUE_WEBHOOK }}
          
          # ä½¿ç”¨ embed æ ¼å¼å¯ä»¥è®“è¨Šæ¯æ›´ç¾è§€ã€æ›´æœ‰çµæ§‹
          embeds: |
            [
              {
                "title": "ğŸ™‹â€â™‚ï¸ æ–°ä»»å‹™å·²æŒ‡æ´¾ï¼",
                "description": "é–‹ç™¼è€… **${{ github.actor }}** å·²é–‹å§‹è™•ç† Issue **#${{ github.event.issue.number }}**ã€‚\n\n**ä»»å‹™æ¨™é¡Œï¼š${{ github.event.issue.title }}**\n\n[é»æ­¤æŸ¥çœ‹ Issue](${{ github.event.issue.html_url }})",
                "url": "${{ github.event.issue.html_url }}",
                "color": 15258703,
                "author": {
                  "name": "${{ github.actor }}",
                  "url": "https://github.com/${{ github.actor }}",
                  "icon_url": "https://github.com/${{ github.actor }}.png"
                },
                "footer": {
                  "text": "Repository: ${{ github.repository }}"
                }
              }
            ]